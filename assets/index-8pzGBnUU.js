(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();class u{constructor(o,n,i,e,t,c,h,f,y,p){this.country=o,this.name=n,this.region=i,this.temperatureF=e,this.temperatureC=t,this.feelsLikeF=c,this.feelsLikeC=h,this.humidity=f,this.windMPH=y,this.localTime=p}}const g="406b5109515c45a0839222558241801";class w{constructor(o=g){this.apiKey=o}async getCurrentWeather(o){const n=`https://api.weatherapi.com/v1/current.json?key=${this.apiKey}&q=${o}`;try{const i=await fetch(n);if(i.ok){const e=await i.json(),t=new u;return t.country=e.location.country,t.name=e.location.name,t.region=e.location.region,t.temperatureF=e.current.temp_f,t.temperatureC=e.current.temp_c,t.feelsLikeF=e.current.feelslike_f,t.feelsLikeC=e.current.feelslike_c,t.humidity=e.current.humidity,t.windMPH=e.current.wind_mph,t.localTime=new Date(e.location.localtime_epoch*1e3).toLocaleString("en-US",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit"}),t}else return console.error("Error:",i.status),null}catch(i){return console.error("Error:",i),null}}async getCurrentWeatherByCoords(o,n){return this.getCurrentWeather(`${o},${n}`)}}const l=new w;let a=new u;function C(){const r=document.querySelector("#search-form"),o=document.querySelector("#search-input");r.addEventListener("submit",async n=>{n.preventDefault(),s(!0),a=await l.getCurrentWeather(o.value),s(!1),a?d(a):console.log("No Weather Data")}),m(!1),L()}function d(r){const o=document.querySelector("#location"),n=document.querySelector("#date"),i=document.querySelector("#temperature"),e=document.querySelector("#feels-like"),t=document.querySelector("#humidity"),c=document.querySelector("#wind");o.textContent=`${r.name}, ${r.region}`,n.textContent=r.localTime,i.textContent=`${r.temperatureF}°F`,e.textContent=`${r.feelsLikeF}°F`,t.textContent=`${r.humidity}%`,c.textContent=`${r.windMPH} mph`,m(!0)}function s(r,o="Loading"){const n=document.querySelector("#loading-container"),i=document.querySelector("#loading-ring");i.textContent=o,n.style.visibility=r?"visible":"hidden"}function m(r=!0){const o=r?"visible":"hidden";for(const n of document.querySelectorAll(".weather-label"))n.style.visibility=o}async function L(){try{const r=await new Promise((n,i)=>{navigator.geolocation.getCurrentPosition(n,i)});s(!0);const o=await l.getCurrentWeatherByCoords(r.coords.latitude,r.coords.longitude);s(!1),d(o)}catch(r){console.log(r),s(!0,"No Geo")}}C();
