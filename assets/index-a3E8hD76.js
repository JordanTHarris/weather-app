(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();class l{constructor(r,n,i,e,t,c,h,f,y,p){this.country=r,this.name=n,this.region=i,this.temperatureF=e,this.temperatureC=t,this.feelsLikeF=c,this.feelsLikeC=h,this.humidity=f,this.windMPH=y,this.localTime=p}}const g="406b5109515c45a0839222558241801";class C{constructor(r=g){this.apiKey=r}async getCurrentWeather(r){const n=`https://api.weatherapi.com/v1/current.json?key=${this.apiKey}&q=${r}`;try{const i=await fetch(n);if(i.ok){const e=await i.json(),t=new l;return t.country=e.location.country,t.name=e.location.name,t.region=e.location.region,t.temperatureF=e.current.temp_f,t.temperatureC=e.current.temp_c,t.feelsLikeF=e.current.feelslike_f,t.feelsLikeC=e.current.feelslike_c,t.humidity=e.current.humidity,t.windMPH=e.current.wind_mph,t.localTime=new Date(e.location.localtime_epoch*1e3).toLocaleString("en-US",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit"}),t}else return console.error("Error:",i.status),null}catch(i){return console.error("Error:",i),null}}async getCurrentWeatherByCoords(r,n){return this.getCurrentWeather(`${r},${n}`)}}const u=new C;let a=new l;function w(){const o=document.querySelector("#search-form"),r=document.querySelector("#search-input");o.addEventListener("submit",async n=>{n.preventDefault(),s(!0),a=await u.getCurrentWeather(r.value),s(!1),a?d(a):console.log("No Weather Data")}),m(!1),L()}function d(o){const r=document.querySelector("#location"),n=document.querySelector("#date"),i=document.querySelector("#temperature"),e=document.querySelector("#feels-like"),t=document.querySelector("#humidity"),c=document.querySelector("#wind");r.textContent=`${o.name}, ${o.region}`,n.textContent=o.localTime,i.textContent=`${o.temperatureF}°F`,e.textContent=`${o.feelsLikeF}°F`,t.textContent=`${o.humidity}%`,c.textContent=`${o.windMPH} mph`,m(!0)}function s(o){const r=document.querySelector("#loading-container");r.style.visibility=o?"visible":"hidden"}function m(o=!0){const r=o?"visible":"hidden";for(const n of document.querySelectorAll(".weather-label"))n.style.visibility=r}function L(){const o=document.querySelector("#location");"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async r=>{s(!0);const n=await u.getCurrentWeatherByCoords(r.coords.latitude,r.coords.longitude);s(!1),d(n)},r=>{console.log(r),s(!1),o.textContent="No GeoLocation"}):(s(!1),o.textContent="No GeoLocation")}w();
